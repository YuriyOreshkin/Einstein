!function(e,t){for(var r in t)e[r]=t[r]}(window,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/app/tinkoff.ts")}({"./node_modules/@eacq/fms/enums/fms-log-level.enum.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FmsLogLevelEnum=void 0,function(e){e.FATAL="FATAL",e.ERROR="ERROR",e.WARN="WARN",e.INFO="INFO",e.DEBUG="DEBUG",e.TRACE="TRACE"}(t.FmsLogLevelEnum||(t.FmsLogLevelEnum={}))},"./node_modules/@eacq/fms/enums/fms-project.enum.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FmsProjectEnum=void 0,function(e){e.MPF2="EACQ-MAPI-PAY-FORM",e.MPF_IE="EACQ-MAPI-PAY-FORM-IE",e.MPA3="EACQ-MPA",e.MMS2="EACQ-MMS",e.TINKOFFJS="EACQ-TINKOFF-JS",e.E2C="EACQ-E2C",e.MMS_SALES="EACQ-MMS-SALES",e.LK2="EACQ-LK2"}(t.FmsProjectEnum||(t.FmsProjectEnum={}))},"./node_modules/@eacq/fms/functions/create-dynamic-metric-record/create-dynamic-metric-record.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDynamicMetricRecord=void 0;var n=r("./node_modules/@eacq/fms/functions/create-http-request-old/create-http-request-old.js"),o=r("./node_modules/@eacq/fms/functions/create-http-request/create-http-request.js");t.createDynamicMetricRecord=function(e,t,r){void 0===r&&(r=!1);try{r?n.createHttpRequestOld(e,t,"create/metric"):o.createHttpRequest(e,t,"create/metric")}catch(e){}}},"./node_modules/@eacq/fms/functions/create-http-request-old/create-http-request-old.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHttpRequestOld=void 0,t.createHttpRequestOld=function(e,t,r){void 0===r&&(r="create/log");var n=new XMLHttpRequest;n.open("POST",e+r),n.setRequestHeader("Content-type","application/json; charset=utf-8"),n.responseType="text",n.send(JSON.stringify(t))}},"./node_modules/@eacq/fms/functions/create-http-request/create-http-request.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createHttpRequest=void 0,t.createHttpRequest=function(e,t,r){return void 0===r&&(r="create/log"),fetch(e+r,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)})}},"./node_modules/@eacq/fms/functions/create-log-record-promise/create-log-record-promise.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogRecordPromise=void 0;var n=r("./node_modules/@eacq/fms/functions/create-http-request/create-http-request.js");t.createLogRecordPromise=function(e,t){try{return n.createHttpRequest(e,t)}catch(e){return Promise.resolve(null)}}},"./node_modules/@eacq/fms/functions/create-log-record/create-log-record.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLogRecord=void 0;var n=r("./node_modules/@eacq/fms/functions/create-http-request/create-http-request.js"),o=r("./node_modules/@eacq/fms/functions/create-http-request-old/create-http-request-old.js");t.createLogRecord=function(e,t,r){try{r?o.createHttpRequestOld(e,t):n.createHttpRequest(e,t)}catch(e){}}},"./node_modules/@eacq/fms/index.js":function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r("./node_modules/@eacq/fms/enums/fms-log-level.enum.js"),t),o(r("./node_modules/@eacq/fms/enums/fms-project.enum.js"),t),o(r("./node_modules/@eacq/fms/interface/fms-log-data.interface.js"),t),o(r("./node_modules/@eacq/fms/interface/fms-dynamic-metric.data.interface.js"),t),o(r("./node_modules/@eacq/fms/interface/fms-request-data.interface.js"),t),o(r("./node_modules/@eacq/fms/functions/create-log-record/create-log-record.js"),t),o(r("./node_modules/@eacq/fms/functions/create-log-record-promise/create-log-record-promise.js"),t),o(r("./node_modules/@eacq/fms/functions/create-dynamic-metric-record/create-dynamic-metric-record.js"),t)},"./node_modules/@eacq/fms/interface/fms-dynamic-metric.data.interface.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@eacq/fms/interface/fms-log-data.interface.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@eacq/fms/interface/fms-request-data.interface.js":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/axios/index.js":function(e,t,r){e.exports=r("./node_modules/axios/lib/axios.js")},"./node_modules/axios/lib/adapters/xhr.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/core/settle.js"),i=r("./node_modules/axios/lib/helpers/buildURL.js"),s=r("./node_modules/axios/lib/core/buildFullPath.js"),a=r("./node_modules/axios/lib/helpers/parseHeaders.js"),u=r("./node_modules/axios/lib/helpers/isURLSameOrigin.js"),c=r("./node_modules/axios/lib/core/createError.js");e.exports=function(e){return new Promise((function(t,l){var d=e.data,f=e.headers;n.isFormData(d)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",h=e.auth.password||"";f.Authorization="Basic "+btoa(m+":"+h)}var g=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),i(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,l,n),p=null}},p.onabort=function(){p&&(l(c("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){l(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var y=r("./node_modules/axios/lib/helpers/cookies.js"),v=(e.withCredentials||u(g))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&n.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),n.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),l(e),p=null)})),void 0===d&&(d=null),p.send(d)}))}},"./node_modules/axios/lib/axios.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/helpers/bind.js"),i=r("./node_modules/axios/lib/core/Axios.js"),s=r("./node_modules/axios/lib/core/mergeConfig.js");function a(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var u=a(r("./node_modules/axios/lib/defaults.js"));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=r("./node_modules/axios/lib/cancel/Cancel.js"),u.CancelToken=r("./node_modules/axios/lib/cancel/CancelToken.js"),u.isCancel=r("./node_modules/axios/lib/cancel/isCancel.js"),u.all=function(e){return Promise.all(e)},u.spread=r("./node_modules/axios/lib/helpers/spread.js"),e.exports=u,e.exports.default=u},"./node_modules/axios/lib/cancel/Cancel.js":function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},"./node_modules/axios/lib/cancel/CancelToken.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/cancel/Cancel.js");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},"./node_modules/axios/lib/cancel/isCancel.js":function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"./node_modules/axios/lib/core/Axios.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/helpers/buildURL.js"),i=r("./node_modules/axios/lib/core/InterceptorManager.js"),s=r("./node_modules/axios/lib/core/dispatchRequest.js"),a=r("./node_modules/axios/lib/core/mergeConfig.js");function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[s,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(n.merge(r||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,o){return this.request(n.merge(o||{},{method:e,url:t,data:r}))}})),e.exports=u},"./node_modules/axios/lib/core/InterceptorManager.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},"./node_modules/axios/lib/core/buildFullPath.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/helpers/isAbsoluteURL.js"),o=r("./node_modules/axios/lib/helpers/combineURLs.js");e.exports=function(e,t){return e&&!n(t)?o(e,t):t}},"./node_modules/axios/lib/core/createError.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/core/enhanceError.js");e.exports=function(e,t,r,o,i){var s=new Error(e);return n(s,t,r,o,i)}},"./node_modules/axios/lib/core/dispatchRequest.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/core/transformData.js"),i=r("./node_modules/axios/lib/cancel/isCancel.js"),s=r("./node_modules/axios/lib/defaults.js");function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return a(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(a(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"./node_modules/axios/lib/core/enhanceError.js":function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},"./node_modules/axios/lib/core/mergeConfig.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");e.exports=function(e,t){t=t||{};var r={},o=["url","method","params","data"],i=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];n.forEach(o,(function(e){void 0!==t[e]&&(r[e]=t[e])})),n.forEach(i,(function(o){n.isObject(t[o])?r[o]=n.deepMerge(e[o],t[o]):void 0!==t[o]?r[o]=t[o]:n.isObject(e[o])?r[o]=n.deepMerge(e[o]):void 0!==e[o]&&(r[o]=e[o])})),n.forEach(s,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])}));var a=o.concat(i).concat(s),u=Object.keys(t).filter((function(e){return-1===a.indexOf(e)}));return n.forEach(u,(function(n){void 0!==t[n]?r[n]=t[n]:void 0!==e[n]&&(r[n]=e[n])})),r}},"./node_modules/axios/lib/core/settle.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/core/createError.js");e.exports=function(e,t,r){var o=r.config.validateStatus;!o||o(r.status)?e(r):t(n("Request failed with status code "+r.status,r.config,null,r.request,r))}},"./node_modules/axios/lib/core/transformData.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},"./node_modules/axios/lib/defaults.js":function(e,t,r){"use strict";(function(t){var n=r("./node_modules/axios/lib/utils.js"),o=r("./node_modules/axios/lib/helpers/normalizeHeaderName.js"),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==t&&"[object process]"===Object.prototype.toString.call(t))&&(a=r("./node_modules/axios/lib/adapters/xhr.js")),a),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){u.headers[e]=n.merge(i)})),e.exports=u}).call(this,r("./node_modules/process/browser.js"))},"./node_modules/axios/lib/helpers/bind.js":function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},"./node_modules/axios/lib/helpers/buildURL.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var s=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},"./node_modules/axios/lib/helpers/combineURLs.js":function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"./node_modules/axios/lib/helpers/cookies.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),n.isString(o)&&a.push("path="+o),n.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./node_modules/axios/lib/helpers/isAbsoluteURL.js":function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"./node_modules/axios/lib/helpers/isURLSameOrigin.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},"./node_modules/axios/lib/helpers/normalizeHeaderName.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js");e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},"./node_modules/axios/lib/helpers/parseHeaders.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/utils.js"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,s={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([r]):s[t]?s[t]+", "+r:r}})),s):s}},"./node_modules/axios/lib/helpers/spread.js":function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},"./node_modules/axios/lib/utils.js":function(e,t,r){"use strict";var n=r("./node_modules/axios/lib/helpers/bind.js"),o=Object.prototype.toString;function i(e){return"[object Array]"===o.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},deepMerge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]="object"==typeof r?e({},r):r}for(var n=0,o=arguments.length;n<o;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},"./node_modules/bowser/es5.js":function(e,t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(r),s=Math.max(o,i),a=0,u=e.map([t,r],(function(t){var r=s-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(a=s-Math.min(o,i)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var o=e[r];if(t(o,r))return o}},e.assign=function(e){for(var t,r,n=e,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var a=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)a();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,(r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}])&&s(t,r),e}();t.default=a,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),o=u(r(93)),i=u(r(94)),s=u(r(95)),a=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,o={},i=0;if(Object.keys(e).forEach((function(t){var s=e[t];"string"==typeof s?(o[t]=s,i+=1):"object"==typeof s&&(r[t]=s,n+=1)})),n>0){var s=Object.keys(r),u=a.default.find(s,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var l=a.default.find(s,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(r[l]);if(void 0!==d)return d}}if(i>0){var f=Object.keys(o),p=a.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),o=a.default.getBrowserTypeByAlias(n);return t&&o&&(n=o.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(o,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,s=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=s,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=o.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=o.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=s,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=s,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),s=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=s,e.exports=t.default}})},"./node_modules/es6-promise/auto.js":function(e,t,r){"use strict";e.exports=r("./node_modules/es6-promise/dist/es6-promise.js").polyfill()},"./node_modules/es6-promise/dist/es6-promise.js":function(e,t,r){(function(t,r){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var n;n=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o=0,i=void 0,s=void 0,a=function(e,t){m[o]=e,m[o+1]=t,2===(o+=2)&&(s?s(h):_())},u="undefined"!=typeof window?window:void 0,c=u||{},l=c.MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var e=setTimeout;return function(){return e(h,1)}}var m=new Array(1e3);function h(){for(var e=0;e<o;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;o=0}var g,y,v,b,_=void 0;function P(e,t){var r=this,n=new this.constructor(S);void 0===n[A]&&j(n);var o=r._state;if(o){var i=arguments[o-1];a((function(){return x(o,n,i,r._result)}))}else F(r,n,e,t);return n}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(S);return M(t,e),t}d?_=function(){return t.nextTick(h)}:l?(y=0,v=new l(h),b=document.createTextNode(""),v.observe(b,{characterData:!0}),_=function(){b.data=y=++y%2}):f?((g=new MessageChannel).port1.onmessage=h,_=function(){return g.port2.postMessage(0)}):_=void 0===u?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(h)}:p()}catch(e){return p()}}():p();var A=Math.random().toString(36).substring(2);function S(){}function O(t,r,n){r.constructor===t.constructor&&n===P&&r.constructor.resolve===w?function(e,t){1===t._state?R(e,t._result):2===t._state?L(e,t._result):F(t,void 0,(function(t){return M(e,t)}),(function(t){return L(e,t)}))}(t,r):void 0===n?R(t,r):e(n)?function(e,t,r){a((function(e){var n=!1,o=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,t!==r?M(e,r):R(e,r))}),(function(t){n||(n=!0,L(e,t))}),e._label);!n&&o&&(n=!0,L(e,o))}),e)}(t,r,n):R(t,r)}function M(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(n=t),null===n||"object"!==o&&"function"!==o)R(e,t);else{var r=void 0;try{r=t.then}catch(t){return void L(e,t)}O(e,t,r)}var n,o}function E(e){e._onerror&&e._onerror(e._result),T(e)}function R(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(T,e))}function L(e,t){void 0===e._state&&(e._state=2,e._result=t,a(E,e))}function F(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=r,o[i+2]=n,0===i&&e._state&&a(T,e)}function T(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,s=0;s<t.length;s+=3)n=t[s],o=t[s+r],n?x(r,n,o,i):o(i);e._subscribers.length=0}}function x(t,r,n,o){var i=e(n),s=void 0,a=void 0,u=!0;if(i){try{s=n(o)}catch(e){u=!1,a=e}if(r===s)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else s=o;void 0!==r._state||(i&&u?M(r,s):!1===u?L(r,a):1===t?R(r,s):2===t&&L(r,s))}var k=0;function j(e){e[A]=k++,e._state=void 0,e._result=void 0,e._subscribers=[]}var N=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(S),this.promise[A]||j(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&R(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===w){var o=void 0,i=void 0,s=!1;try{o=e.then}catch(e){s=!0,i=e}if(o===P&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===C){var a=new r(S);s?L(a,i):O(a,e,o),this._willSettleAt(a,t)}else this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},e.prototype._settledAt=function(e,t,r){var n=this.promise;void 0===n._state&&(this._remaining--,2===e?L(n,r):this._result[t]=r),0===this._remaining&&R(n,this._result)},e.prototype._willSettleAt=function(e,t){var r=this;F(e,void 0,(function(e){return r._settledAt(1,t,e)}),(function(e){return r._settledAt(2,t,e)}))},e}(),C=function(){function t(e){this[A]=k++,this._result=this._state=void 0,this._subscribers=[],S!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){M(e,t)}),(function(t){L(e,t)}))}catch(t){L(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return C.prototype.then=P,C.all=function(e){return new N(this,e).promise},C.race=function(e){var t=this;return n(e)?new t((function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},C.resolve=w,C.reject=function(e){var t=new this(S);return L(t,e),t},C._setScheduler=function(e){s=e},C._setAsap=function(e){a=e},C._asap=a,C.polyfill=function(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=C},C.Promise=C,C},e.exports=n()}).call(this,r("./node_modules/process/browser.js"),r("./node_modules/webpack/buildin/global.js"))},"./node_modules/process/browser.js":function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&p())}function p(){if(!l){var e=a(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||l||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"./node_modules/webpack/buildin/global.js":function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},"./src/app/styles/t-widget.css":function(e,t,r){},"./src/app/tinkoff.ts":function(e,t,r){"use strict";r.r(t);var n=r("./node_modules/@eacq/fms/index.js"),o=(r("./node_modules/es6-promise/auto.js"),r("./src/assets/i18n/ru.json")),i={apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["VISA","MASTERCARD"]}}]},s={HOST_URL:"https://securepay.tinkoff.ru",ALTER_HOST_URL:"https://securepayments.tinkoff.ru",ENVIRONMENT:"production",LOGGER_URL:"https://efms.tinkoff.ru/"};var a,u,c,l,d,f,p,m,h,g=function(){try{if(-1===s.HOST_URL.indexOf("HOST_URL")&&-1===s.ALTER_HOST_URL.indexOf("ALTER_HOST_URL"))return s;throw new Error}catch(e){throw new EvalError("Internal Context Error")}}(),y={HOST_URL:g.HOST_URL,ALTER_HOST_URL:g.ALTER_HOST_URL,ENVIRONMENT:g.ENVIRONMENT,LOGGER_URL:g.LOGGER_URL},v="[AppState] FORM_LOAD",b="closed",_="closed_disable",P="opened",w="opened_disable",A="[AppState] SET_EXIT",S="exit",O={WIDGET_STYLE:y.HOST_URL+"/html/payForm/static/css/t-widget.css"},M={initURL:y.HOST_URL+"/v2/Init",initURLV1:y.HOST_URL+"/rest/Init",finishAuthorizeURL:y.HOST_URL+"/v2/FinishAuthorize",terminalStatus:y.HOST_URL+"/v2/GetTerminalStatus"},E={failURL:y.HOST_URL+"/acq/page/widget-fail",defaultURL:y.HOST_URL+"/acq/page/empty"};!function(e){e.WidgetV2="Widget2.0"}(a||(a={})),function(e){e.GooglePay="GooglePay",e.ApplePay="ApplePay",e.TinkoffPay="TinkoffPay"}(u||(u={})),function(e){e.Ruble="RUB"}(c||(c={})),function(e){e.Russia="RU"}(l||(l={})),function(e){e[e.V1=0]="V1",e[e.V2=1]="V2"}(d||(d={})),function(e){e.Disabled="D",e.Demo="S",e.Production="P"}(f||(f={})),function(e){e.MassEnabled="Mass",e.AppleDeveloper="Developer"}(p||(p={})),function(e){e.Post="POST",e.Get="GET"}(m||(m={})),function(e){e.WIDGET="widget",e.PAYFORM="payForm"}(h||(h={}));var R=/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/,L=function(){function e(){}return e.prototype.getCurrentScript=function(){if("currentScript"in document)return document.currentScript;var e,t=window.location.href.replace(/#.*$/,"").replace(/\?.*$/,"")||null,r=document.getElementsByTagName("script");if(0===r.length)return null;try{var n=new Error;if(!this.checkErrorStack(n))throw n;e=n.stack}catch(t){this.checkErrorStack(t)&&(e=t.stack)}if(!e)return null;var o=this._getScriptUrlFromStack(e),i=this._getScriptFromUrl(o,r);return!i&&t&&o===t?null:i},e.prototype.checkErrorStack=function(e){return"string"==typeof e.stack&&!!e.stack},e.prototype._getScriptFromUrl=function(e,t){var r;for(r=t.length;r--;)if(t[r].src===e)return t[r];return null},e.prototype._getScriptUrlFromStack=function(e){var t=e.match(R);return t&&t[1]?t[1]:null},e}();var F="fetch"in window,T=function(){function e(){}return e.log=function(t,r,o){Object(n.createLogRecord)(y.LOGGER_URL,e.logBody(t,r,o),!F)},e.logSync=function(t,r,o){return Object(n.createLogRecordPromise)(y.LOGGER_URL,e.logBody(t,r,o))},e.logMetric=function(t,r){Object(n.createLogRecord)(y.LOGGER_URL,e.logBody(t,null,r),!F)},e.logBody=function(e,t,r){return{project:n.FmsProjectEnum.TINKOFFJS,level:e,message:t,metricMessage:r}},e}();function x(e){if(e)return e.preventDefault(),void(e.returnValue=!1)}function k(e,t){"opened"===t?(e.style.display="none",e.style.display+="!important;"):"none"===window.getComputedStyle(e,null).getPropertyValue("display")&&(e.style.display="");"t-close-frame-desktop"===e.className&&(t===w?(e.style.cursor="unset",e.disabled=!0,e.addEventListener("click",(function(e){return x(e)}))):(e.style.cursor="pointer",e.disabled=!1,e.removeEventListener("click",(function(e){return x(e)}))))}var j=window.location.href||"unknown",N=window.navigator.userAgent||"unknown",C=!1;function I(){return C}function B(){C=!0}function D(){C=!1}function U(e){e.style.display="none"}function q(e){e.style.display="block"}function V(e,t){var r,n,o=W();t&&(e+=function(e,t){void 0===t&&(t=!1);var r=t?function(t){return encodeURIComponent(t)+"="+encodeURIComponent(String(e[t]))}:function(t){return t+"="+e[t]};return"?"+Object.keys(e).map(r).join("&")}(t)),o?z(o,e):Q(e),r=H(),n=K(),document.documentElement.classList.add("t-widget-popup"),q(r),q(n)}function G(){window.parent.postMessage(S,"*")}function W(){return document.querySelector(".t-frame")}function H(){return document.querySelector(".t-wrapper")}function K(){return document.querySelector(".t-frame-wrapper")}function z(e,t){e.src=t}function Q(e){function t(e){var t=document.createElement("input");return t.className=e,t.tabIndex=-1,t.type="button",t.value="",t}void 0===e&&(e=E.defaultURL),T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.frameCreation,userAgent:N,url:j},o.logger.frameCreation);var r,i,s=(r=O.WIDGET_STYLE,(i=document.createElement("link")).rel="stylesheet",i.href=r,i.type="text/css",i);document.head.appendChild(s);var a=t("t-close-frame-mobile"),u=t("t-close-frame-desktop"),c=document.createElement("div");c.className="t-button-container",c.tabIndex=-1;var l=document.createElement("div");l.className="t-frame-wrapper",l.style.display="none";var d=document.createElement("div");d.className="t-wrapper",d.style.display="none";var f=function(e){var t=document.createElement("iframe");return t.setAttribute("allowpaymentrequest","true"),t.setAttribute("allow","payment"),t.className=e,t.tabIndex=-1,t}("t-frame");function p(){T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.frameClosing,userAgent:N,url:j},o.logger.frameClosing),function(){var e=H(),t=K();U(e),U(t),document.documentElement.classList.remove("t-widget-popup")}(),z(W(),E.defaultURL),D()}z(f,e),c.appendChild(a),l.appendChild(u),l.appendChild(f),d.appendChild(c),d.appendChild(l),a.addEventListener("click",(function(){p(),G()})),u.addEventListener("click",(function(){p(),G()})),window.addEventListener("message",(function(e){!e.isTrusted||e.origin!==y.HOST_URL&&e.origin!==y.ALTER_HOST_URL||(e.data!==A&&e.data!==S||p(),e.data===v&&f.contentWindow.postMessage("Widget2.0","*"),e.data!==P&&e.data!==b&&e.data!==w&&e.data!==_||(k(u,e.data),k(c,e.data)))}),!1),T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.frameAddition,userAgent:N,url:j},o.logger.frameAddition),document.body.appendChild(d)}function J(e){window.location.href=e}function Y(e){var t=(e=e.toString()).replace(/,/gi,"."),r=t.match(/\./g);if(null!==t.replace(/\./gi,"").match(/\D/)||r&&r.length>1)throw new Error('Значение "'+e+'" - не является числом.');if(null===r)return Number(t);var n=(Number(t)/100).toString().split(".");return n[1].length<2&&(n[1]=n[1]+"0"),Number(n[0]+n[1])}var X=r("./node_modules/axios/index.js"),Z=r.n(X),$=y.HOST_URL+"/v2/ApplePayStartSession",ee=y.HOST_URL+"/v2/ApplePayMerchantInfo",te=function(){function e(){this.http=Z.a.create({headers:{"content-type":"application/json"},responseType:"json",transformResponse:[function(e){var t;try{t=JSON.parse(e)}catch(r){t=e}if(t.ErrorCode&&"0"!==t.ErrorCode||!t.Success)throw{ErrorCode:t.ErrorCode||"0",Message:t.Message,Details:t.Details};return t}]}),this.http.interceptors.response.use((function(e){return e}),(function(e){if(e.ErrorCode)throw e;return Promise.reject({status:e.response?e.response.status:e.name,statusText:e.response?e.response.statusText:e.message})}))}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.init=function(e){return this.post(M.initURL,e)},e.prototype.initV1=function(e){return this.get(M.initURLV1,e)},e.prototype.finishAuthorise=function(e){return this.post(M.finishAuthorizeURL,e)},e.prototype.getTerminalStatus=function(e){return this.get(M.terminalStatus,{TerminalKey:e})},e.prototype.ApplePayStartSession=function(e){return this.post($,e)},e.prototype.ApplePayMerchantInfo=function(e){return this.post(ee,e)},e.prototype.getTinkoffPayTerminalStatus=function(e){var t=y.HOST_URL+"/v2/TinkoffPay/terminals/"+e+"/status";return this.get(t,{}).then(this.getParams)},e.prototype.getTinkoffPayDeepLink=function(e,t){var r=function(e,t){return y.HOST_URL+"/v2/TinkoffPay/transactions/"+e+"/versions/"+t+"/link"}(e,t);return this.get(r,{}).then(this.getParams)},e.prototype.getParams=function(e){return e.Params},e.prototype.get=function(e,t){return this.http.get(e,{params:t}).then((function(e){return e.data}))},e.prototype.post=function(e,t){return this.http.post(e,t).then((function(e){return e.data}))},e}();var re,ne=navigator.userAgent.match(/(Android)|(BlackBerry)|(iPhone|iPad|iPod)|(Opera Mini)|(IEMobile)/i)&&function(){if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)return!0;var e,t=["("," -webkit- -moz- -o- -ms- ".split(" ").join("touch-enabled),("),"heartz",")"].join("");return e=t,window.matchMedia(e).matches}(),oe=function(){function e(e){void 0===e&&(e=""),this._merchantId=e,this._apiService=te.getInstance()}return e.prototype._initPayment=function(e,t){I()||(B(),t.paymentData?(e&&(t.paymentData.DATA[e+"Web"]=!0),this._startPayment(t)):D())},e.prototype._sendInit=function(e){return this._apiService.init(e).then((function(e){return e.PaymentId}))},e.prototype._sendFA=function(e,t,r,n){var o={DATA:e.paymentData.DATA,EncryptedPaymentData:btoa(r),PaymentId:t,Source:n,TerminalKey:e.paymentData.TerminalKey};return o.DATA.referrer_url=window.location.hostname,e.infoEmail&&(o.SendEmail=!0,o.InfoEmail=e.infoEmail),this._apiService.finishAuthorise(o)},e.prototype._showErrorPopup=function(e){T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.openErrorPageInFrame,userAgent:N,url:j},o.logger.openErrorPageInFrame),e?V(E.failURL,{language:e}):V(E.failURL)},e}(),ie=(re=function(e,t){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}re(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),se=function(e){function t(t){var r=e.call(this,t.merchantInfo.MerchantId)||this;return r._applePayVersion=1,r._mirSupportsVersion=11,r._supportsMir=!1,r._paymentLabel=t.merchantInfo.MerchantName,r._buttonOptions=t.buttonOptions,r}return ie(t,e),t.prototype.createPaymentButton=function(e){var t=this;T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.createButton,userAgent:N,url:j},o.logger.apple.createButton);var r=document.createElement("button");r.setAttribute("type","button"),this._buttonOptions.lang&&r.setAttribute("lang",this._buttonOptions.lang);var i=["apple-pay-button"];return this._buttonOptions.color&&i.push("apple-pay-button-"+this._buttonOptions.color),this._buttonOptions.outline&&i.push("apple-pay-button-line"),r.className=i.join(" "),r.style.setProperty("-apple-pay-button-type",this._buttonOptions.type||"plain"),r.addEventListener("click",(function(){return t._initPayment(u.ApplePay,e())})),r},t.prototype._getPaymentRequest=function(e){var t=["masterCard","visa"];return this._supportsMir&&t.push("mir"),{countryCode:l.Russia,currencyCode:c.Ruble,supportedNetworks:t,merchantCapabilities:["supports3DS"],total:{type:"final",label:this._paymentLabel,amount:(e.paymentData.Amount/100).toString()}}},t.prototype._startPayment=function(e){var t=this;T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.createSession,userAgent:N,url:j},o.logger.apple.createSession),this.enableMirSupport();var r=new window.ApplePaySession(this._applePayVersion,this._getPaymentRequest(e));this._sendInit(e.paymentData).then((function(n){t._startApplePaySession(r,e,n)})).catch((function(r){t._showErrorPopup(e.paymentData.Language),D()}))},t.prototype._startApplePaySession=function(e,t,r){var i=this;T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.initSession,userAgent:N,url:j},o.logger.apple.initSession),e.onvalidatemerchant=function(s){var a={TerminalKey:t.paymentData.TerminalKey,ValidationURL:s.validationURL,PaymentId:r,RegistrationType:p.MassEnabled};i._apiService.ApplePayStartSession(a).then((function(t){e&&e.completeMerchantValidation(t.ValidationResult)})).catch((function(r){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.apple.error.startSession,error:r}),e&&(r.hasOwnProperty("ErrorCode")&&console.error(o.error.applePay.merchant),setTimeout((function(){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.apple.error.startSession,userAgent:N,url:j},o.logger.apple.error.startSession),i._showErrorPopup(t.paymentData.Language),e.abort(),D()}),3e3))}))},e.onpaymentauthorized=function(s){i._sendFA(t,r,JSON.stringify(s.payment.token.paymentData),u.ApplePay).then((function(t){e&&(e.completePayment(window.ApplePaySession.STATUS_SUCCESS),setTimeout((function(){T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.openResultPage,userAgent:N,url:j},o.logger.openResultPage),J(t.BackUrl),D()}),3e3))})).catch((function(r){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.apple.error.finishAuthorise,error:r}),e&&(e.completePayment(window.ApplePaySession.STATUS_FAILURE),setTimeout((function(){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.openResultPage,userAgent:N,url:j},o.logger.apple.error.finishAuthorise),i._showErrorPopup(t.paymentData.Language),D()}),3e3))}))},e.oncancel=function(t){T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.cancelPayment,userAgent:N,url:j},o.logger.apple.cancelPayment),D(),e=null},e.begin()},t.prototype.enableMirSupport=function(){window.ApplePaySession.supportsVersion(this._mirSupportsVersion)&&(this._applePayVersion=this._mirSupportsVersion,this._supportsMir=!0)},t}(oe);function ae(e,t,r){void 0===r&&(r="hidden");var n=document.createElement("input");return n.type=r,n.value=e,n.name=t,n}var ue,ce,le=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),de=function(){return(de=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},fe=function(e){function t(t,r){var n=e.call(this,t.merchantId)||this;return n._paymentsClient=r,n._buttonCommonOptions={onClick:null},t.buttonColor&&(n._buttonCommonOptions.buttonColor=t.buttonColor),t.buttonType&&(n._buttonCommonOptions.buttonType=t.buttonType),n}return le(t,e),t.prototype.createPaymentButton=function(e){var t=this;T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.google.createButton,userAgent:N,url:j},o.logger.google.createButton);var r=de(de({},this._buttonCommonOptions),{onClick:function(){return t._initPayment(u.GooglePay,e())}});return this._paymentsClient.createButton(r)},t.prototype._getPaymentRequest=function(e){var t=de(de({},i),{transactionInfo:{currencyCode:c.Ruble,totalPrice:(e.paymentData.Amount/100).toString(),totalPriceStatus:"FINAL"}});return t.allowedPaymentMethods[0].tokenizationSpecification={type:"PAYMENT_GATEWAY",parameters:{gateway:"tinkoff",gatewayMerchantId:e.paymentData.TerminalKey}},this._merchantId&&(t.merchantInfo={merchantId:this._merchantId}),t},t.prototype._startPayment=function(e){var t=this;this._sendInit(e.paymentData).then((function(r){return t._paymentsClient.loadPaymentData(t._getPaymentRequest(e)).then((function(n){return e.paymentData.DATA.GooglePaySource=h.WIDGET,t._sendFA(e,r,n.paymentMethodData.tokenizationData.token,u.GooglePay)}))})).then((function(t){if(J(t.BackUrl),t.BackUrl&&(!e.paymentData.Frame||ne?(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.openResultPage,userAgent:N,url:j},o.logger.openResultPage),J(t.BackUrl)):(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.openResultPageInFrame,userAgent:N,url:j},o.logger.openResultPageInFrame),V(t.BackUrl))),t.ACSUrl){T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.redirect3DS,userAgent:N,url:j},o.logger.redirect3DS);var r=function(e){var t=document.createElement("form");t.action=e.ACSUrl,t.method=m.Post;for(var r={MD:e.MD,PaReq:e.PaReq,TermUrl:e.TermUrl},n=0,o=Object.keys(r);n<o.length;n++){var i=o[n],s=r[i];s&&t.append(ae(s,i))}return t.style.display="none",t}(t);document.body.append(r),r.submit()}D()})).catch((function(r){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.google.error.payment,error:r},o.logger.google.error.payment),t._showErrorPopup(e.paymentData.Language),D()}))},t}(oe);!function(e){e.WINDOWS="Windows",e.MACOS="Mac",e.LINUX="Linux",e.ANDROID="Android",e.IOS="iOS",e.WINDOWS_PHONE="Windows Phone",e.UNKNOWN="Unknown OS"}(ue||(ue={})),function(e){e.MOBILE="Mobile",e.DESKTOP="Desktop"}(ce||(ce={}));var pe=r("./node_modules/bowser/es5.js"),me=r.n(pe);var he="desktop"===pe.parse(navigator.userAgent).platform.type,ge=["WebView","(iPhone|iPod|iPad)(?!.*Safari)","Android.*(wv|.0.0.0)","Linux; U; Android"];var ye=function(){return"ontouchstart"in window.document.documentElement||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||null!==window.navigator.userAgent.match(/android|iphone|ipad|ipod/i)},ve=function(){var e=navigator.userAgent.toLowerCase(),t=navigator.maxTouchPoints,r=/(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(e);return/Macintosh/i.test(e)&&t&&t>1||r},be=function(){function e(){}return e.prototype.openLink=function(e,t){var r=navigator.userAgent.toLowerCase().indexOf("android")>-1&&!t?this.makeAndroidLink(e):e;T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.tinkoff.deepLinkOpened,userAgent:N,url:j},o.logger.tinkoff.deepLinkOpened),document.location.href=r},e.prototype.makeAndroidLink=function(e){var t="production"===y.ENVIRONMENT?"com.idamob.tinkoff.android":"com.idamob.tinkoff.android.qa",r=e.split("://"),n=r[0];return"intent://"+r[1]+"#Intent;package="+t+";scheme="+n+";end"},e}(),_e=function(){function e(e){void 0===e&&(e="/html/payForm/static/img/qr-skeleton-black.svg"),this.qrCodeSvg=e,this.modal=document.createElement("div"),this.modal.classList.add("t-qr-modal"),this.modal.style.display="none";var t=document.createElement("div");t.classList.add("t-qr-modal-title"),t.innerText=o.info.tinkoffPay.qrModal.title;var r=document.createElement("div");r.classList.add("t-qr-modal-description"),r.innerText=o.info.tinkoffPay.qrModal.description;var n=document.createElement("img");n.classList.add("t-qr-modal-qr"),n.src=this.qrCodeSvg,this.closeButton=document.createElement("input"),this.closeButton.classList.add("t-close-frame-desktop"),this.closeButton.type="button",this.modal.appendChild(t),this.modal.appendChild(r),this.modal.appendChild(n),this.modal.appendChild(this.closeButton),this.wrapper=H(),this.wrapper.appendChild(this.modal)}return e.prototype.showModal=function(){q(this.modal),q(this.wrapper),document.addEventListener("click",this.hideModal.bind(this)),this.closeButton.addEventListener("click",this.hideModal.bind(this))},e.prototype.hideModal=function(e){e.stopPropagation();var t=e.target;this.modal.contains(t)&&!this.closeButton.contains(t)||(this.wrapper.removeChild(this.modal),U(this.wrapper),document.removeEventListener("click",this.hideModal),this.closeButton.removeEventListener("click",this.hideModal))},e}(),Pe=function(){this.button=document.createElement("button"),this.button.setAttribute("type","button"),this.button.className="tinkoff-pay-button"},we=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ae=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},Se=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},Oe=function(e){function t(t){var r=e.call(this)||this;return r.payVersion=t,r.deepLinkService=new be,r}return we(t,e),t.prototype.createPaymentButton=function(e){var t=this,r=(new Pe).button;return r.addEventListener("click",(function(){return t._initPayment(u.TinkoffPay,e())})),r},t.prototype._startPayment=function(e){this.sendPayment(e)},t.prototype._getPaymentRequest=function(e){},t.prototype.sendPayment=function(e){return Ae(this,void 0,void 0,(function(){var t,r,i,s,a;return Se(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),e.paymentData.DATA=Object.assign(e.paymentData.DATA,this.prepareDeviceData()),[4,this._apiService.init(e.paymentData)];case 1:return i=u.sent(),t=i.PaymentId,[3,3];case 2:return r=u.sent(),console.error(r),T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.tinkoff.error.init,error:r},o.logger.tinkoff.error.init),D(),[2];case 3:return u.trys.push([3,5,,6]),[4,this._apiService.getTinkoffPayDeepLink(t,this.payVersion)];case 4:return i=u.sent(),!(s="2.0"===this.payVersion)||ye()&&!ve()?this.deepLinkService.openLink(i.RedirectUrl,s):new _e(i.WebQR).showModal(),D(),[3,6];case 5:return a=u.sent(),console.error(a),T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.tinkoff.error.deepLink,error:a},o.logger.tinkoff.error.deepLink),D(),[3,6];case 6:return[2]}}))}))},t.prototype.prepareDeviceData=function(){var e,t,r={};return ne&&(r.Device=ce.MOBILE),he&&(r.Device=ce.DESKTOP),r.DeviceOs=(e=me.a.getParser(navigator.userAgent).getOSName(),t=ue.UNKNOWN,"macOS"===e&&(t=ue.MACOS),Object.values(ue).includes(e)&&(t=e),t),r.DeviceBrowser=me.a.getParser(navigator.userAgent).getBrowserName(),r.DeviceWebView=function(e){void 0===e&&(e=navigator.userAgent);var t=new RegExp("("+ge.join("|")+")","ig");return!!e.match(t)}(),r},t}(oe),Me=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},Ee=function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function Re(e){var t=xe(e.email),r=xe(e.phone),n=xe(e.name),o=xe(e.receipt),i=xe(e.DATA),s=xe(e.description),a=xe(e.order),u=xe(e.amount),c=xe(e.frame),l=xe(e.terminalkey),d=xe(e.language),f=ke(xe(e.reccurentPayment)),p=xe(e.customerKey),m={Amount:Te(u),Description:s,Frame:ke(c),OrderId:a,TerminalKey:l,DATA:i,Language:d};if(o&&(m.Receipt=o),f){if(!p)return alert("При использовании реккурентного платежа поле customerKey не должно быть пустым"),null;m.Recurrent="Y",m.CustomerKey=p}return Fe(m,t,r,n)?([["Email",t],["Phone",r],["Name",n]].filter((function(e){return!!e[1]})).forEach((function(e){m.DATA[e[0]]=e[1]})),m):null}function Le(e){var t=e.Email,r=e.Phone,n=e.Name;return delete e.Name,delete e.Email,delete e.Phone,Fe(e,t,r,n)?e:null}function Fe(e,t,r,i){try{e.Amount=Y(e.Amount)}catch(e){return T.log(n.FmsLogLevelEnum.ERROR,{title:"Ошибка получения суммы платежа"}),console.error(e),!1}var s;if(e.DATA=s=(s=e.DATA)?"string"==typeof s?function(e,t){try{return JSON.parse(e)}catch(n){var r={};return e.split(t).forEach((function(e){var t=e.split("="),n=t[0].trim();t.length>0&&n&&(r[n]=t[1])})),r}}(s,"|"):s:{},e.DATA.connection_type=a.WidgetV2,e.OrderId=e.OrderId||(new Date).getTime().toString(),e.Receipt){if("string"==typeof e.Receipt)try{e.Receipt=JSON.parse(e.Receipt)}catch(e){return T.log(n.FmsLogLevelEnum.ERROR,{title:"Некорректный формат чека"}),console.error(o.error.common.template+o.error.common.receipt.format),!1}if(e.Receipt.Email=t||e.Receipt.Email,e.Receipt.Phone=r||e.Receipt.Phone,!e.Receipt.Email&&!e.Receipt.Phone)return console.error(o.error.common.template+o.error.common.receipt.fields),!1}return!0}function Te(e){return 100*Number(e.replace(/,/gi,"."))}function xe(e){return console.log(e),e?e.value:""}function ke(e){return"true"===e.toLowerCase()}var je=function(){function e(){var e,t=this;this._apiService=te.getInstance(),window.__TinkoffNormalizeMoney=function(e){return Y(e)},window.doPay=function(e){return t.doPay(e)},window.pay=function(e){return t.pay(e)},window.initPayments=function(e){return t.initPayments(e)},this._widgetVersion=(e=(new L).getCurrentScript()).src?e.src.indexOf("tinkoff_v2.js")>-1?d.V2:e.src.indexOf("tinkoff.js")>-1?d.V1:null:null,T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.init,userAgent:N,url:j},o.logger.init),"complete"!==document.readyState?window.addEventListener("load",(function(){W()||Q()})):Q()}return e.prototype.initPayments=function(e){var t=this;T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.initPayments,userAgent:N,url:j},o.logger.initPayments),this._terminalKey=e.terminalKey;var r=e.paymentSystems.GooglePay,i=e.paymentSystems.ApplePay,s=e.paymentSystems.TinkoffPay;if(e.paymentSystems&&(r||i||s))if(e.paymentItems){e.paymentItems.forEach((function(e){e.paymentInfo=t._getPaymentInfoFn(e.paymentInfo)}));var a=function(r,n){r.call(t,n).then((function(t){if(t)for(var r=0,n=e.paymentItems;r<n.length;r++){var i=n[r];if(i.paymentInfo){var s=t.createPaymentButton(i.paymentInfo);i.container.appendChild(s)}else console.error(o.error.common.paymentInfo)}}))};r&&(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.google.buttonAddition,userAgent:N,url:j},o.logger.google.buttonAddition),a(this.initGooglePay,r)),i&&(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.buttonAddition,userAgent:N,url:j},o.logger.apple.buttonAddition),a(this.initApplePay,i)),s&&(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.tinkoff.buttonAddition,userAgent:N,url:j},o.logger.tinkoff.buttonAddition),a(this.initTinkoffPay,s))}else{var u={container:document.getElementById(e.container),paymentInfo:this._getPaymentInfoFn(e.paymentInfo)},c=function(e,r){var n=t._getPaymentInfoFn(r.paymentInfo);u.paymentInfo||n?e.call(t,r).then((function(e){if(e){var t=e.createPaymentButton(n||u.paymentInfo);u.container.appendChild(t)}})):console.error(o.error.common.paymentInfo)};r&&c(this.initGooglePay,r),i&&c(this.initApplePay,i),s&&c(this.initTinkoffPay,s)}},e.prototype.doPay=function(e){I()||(B(),this._widgetVersion!==d.V1?(e=Le(e))?this.createPayment(e):D():this.payV1(e))},e.prototype.pay=function(e){if(!I())if(B(),this._widgetVersion!==d.V1){var t=Re(e);t?this.createPayment(t):D()}else this.payV1(function(e){var t=xe(e.email),r=xe(e.phone),n=xe(e.name),o=xe(e.description),i=xe(e.order),s=xe(e.amount),a=xe(e.frame),u=xe(e.terminalkey),c=xe(e.language),l=ke(xe(e.reccurentPayment)),d=xe(e.customerKey),f={Amount:Te(s),Description:o,Frame:ke(a),OrderId:i,DATA:"Email="+t+"|Phone="+r+"|Name="+n,TerminalKey:u,Language:c};if(l){if(!d)return alert("При использовании реккурентного платежа поле customerKey не должно быть пустым"),null;f.Recurrent="Y",f.CustomerKey=d}return f}(e))},e.prototype.payV1=function(e){try{e.Amount=Y(e.Amount)}catch(e){return T.log(n.FmsLogLevelEnum.ERROR,{title:"Ошибка получения суммы платежа"}),console.error(e),void D()}e.DATA?e.DATA+="|Connection_type=Widget2.0":e.DATA="Connection_type=Widget2.0",e.OrderId=e.OrderId||(new Date).getTime().toString(),this._apiService.initV1(e).then((function(t){var r=t.PaymentURL;!e.Frame||ne?(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.redirectToPayForm,userAgent:N,url:j},o.logger.redirectToPayForm),J(r)):(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.openPayFormInFrame,userAgent:N,url:j},o.logger.openPayFormInFrame),V(r)),D()})).catch((function(e){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.error.payV1,error:e},o.logger.error.payV1),D(),alert(o.error.common.response+" "+o.error.common.template+JSON.stringify(e))}))},e.prototype.initGooglePay=function(e){return Me(this,void 0,void 0,(function(){var t,r,s;return Ee(this,(function(a){switch(a.label){case 0:if(!e)return[2,null];if("TEST"!==(t=e.environment||"TEST")&&"PRODUCTION"!==t)return console.error(o.error.googlePay.environment),[2,null];if("PRODUCTION"===t&&!e.merchantId)return console.error(o.error.googlePay.merchantId),[2,null];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._apiService.getTerminalStatus(this._terminalKey).then((function(e){return e.TerminalStatus}))];case 2:return(r=a.sent())&&r===f.Production?[3,4]:(console.error(o.error.terminalStatus.status),[2,null]);case 3:return s=a.sent(),T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.error.terminalStatus,error:s},o.logger.error.terminalStatus),console.error(o.error.terminalStatus.response),[2,null];case 4:return[2,new Promise((function(r,s){try{a="https://pay.google.com/gp/p/js/pay.js",u=function(){var s=new window.google.payments.api.PaymentsClient({environment:t});s||(T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.google.error.createClient,environment:t},o.logger.google.error.createClient),console.error(o.error.googlePay.lib.init),r(null)),s.isReadyToPay(i).then((function(t){t.result||(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.google.notSupported,userAgent:N,url:j},o.logger.google.notSupported),console.info(o.info.googlePay.support),r(null)),r(new fe(e,s))})).catch((function(e){T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.google.error.isReadyToPay,error:e},o.logger.google.error.isReadyToPay),console.error(o.error.googlePay.lib.init),r(null)}))},c=function(){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.google.error.scriptLoading,userAgent:N,url:j},o.logger.google.error.scriptLoading),console.error(o.error.googlePay.lib.load),r(null)},(l=document.createElement("script")).src=a,l.async=!0,l.onload=function(){return u()},l.onerror=function(){return c()},document.querySelector("body").appendChild(l)}catch(e){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.google.error.scriptAdding,userAgent:N,url:j},o.logger.google.error.scriptAdding),console.error(o.error.googlePay.lib.load),r(null)}var a,u,c,l}))]}}))}))},e.prototype.initApplePay=function(e){return Me(this,void 0,void 0,(function(){var t,r=this;return Ee(this,(function(i){switch(i.label){case 0:return e?window.ApplePaySession&&window.ApplePaySession.canMakePayments()?[4,this._apiService.ApplePayMerchantInfo({TerminalKey:this._terminalKey}).then((function(e){return e.MerchantInfo.find((function(e){return e.RegistrationType===p.MassEnabled}))})).catch((function(){return T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.apple.error.merchantInfo,terminalKey:r._terminalKey,userAgent:N,url:j},o.logger.apple.error.merchantInfo),null}))]:(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.notSupported,userAgent:N,url:j},o.logger.apple.notSupported),console.info(o.info.applePay.support),[2,null]):[2,null];case 1:return(t=i.sent())&&t.MerchantId&&t.MerchantName?[4,window.ApplePaySession.canMakePaymentsWithActiveCard(t.MerchantId)]:(T.log(n.FmsLogLevelEnum.INFO,{title:"Нет информации об Apple Pay для сайта"}),console.error(o.error.applePay.info),[2,null]);case 2:return i.sent()?(e.merchantInfo=t,[2,new se(e)]):(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.apple.noActiveCard,userAgent:N,url:j},o.logger.apple.noActiveCard),console.info(o.info.applePay.card),[2,null])}}))}))},e.prototype.initTinkoffPay=function(){return Me(this,void 0,void 0,(function(){var e,t,r,i;return Ee(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this._apiService.getTinkoffPayTerminalStatus(this._terminalKey)];case 1:return r=s.sent(),e=r.Allowed,t=r.Version,[3,3];case 2:return i=s.sent(),console.error(o.logger.tinkoff.error.status),console.error(i),T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.tinkoff.error.status,error:i},o.logger.tinkoff.error.status),[2,null];case 3:return e?[2,new Oe(t)]:(console.error(o.logger.tinkoff.error.allow),[2,null])}}))}))},e.prototype._processPaymentInfo=function(e){return e.paymentData=e.paymentData instanceof HTMLFormElement?Re(e.paymentData):Le(e.paymentData),e.paymentData&&(e.paymentData.TerminalKey=this._terminalKey),e},e.prototype._getPaymentInfoFn=function(e){var t=this;if(!e)return null;if("function"!=typeof e){var r=this._processPaymentInfo(e);return function(){return r}}return function(){return t._processPaymentInfo(e())}},e.prototype.createPayment=function(e){this._apiService.init(e).then((function(t){var r=t.PaymentURL;!e.Frame||ne?(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.redirectToPayForm,userAgent:N,url:j},o.logger.redirectToPayForm),J(r)):(T.log(n.FmsLogLevelEnum.INFO,{title:o.logger.openPayFormInFrame,userAgent:N,url:j},o.logger.openPayFormInFrame),V(r),D())})).catch((function(e){T.log(n.FmsLogLevelEnum.ERROR,{title:o.logger.error.pay,error:e},o.logger.error.pay),D(),alert(o.error.common.response+" "+o.error.common.template+JSON.stringify(e))}))},e}();r("./src/app/styles/t-widget.css");window.TinkoffWidget?T.log(n.FmsLogLevelEnum.INFO,{title:"Повторная инициализация виджета",userAgent:N,url:j},"Повторная инициализация виджета"):window.TinkoffWidget=new je},"./src/assets/i18n/ru.json":function(e){e.exports=JSON.parse('{"error":{"terminalStatus":{"response":"Ошибка получения статуса терминала.","status":"Google Pay доступен только для рабочего терминала."},"googlePay":{"lib":{"load":"Ошибка загрузки библиотеки Google Pay Api.","init":"Ошибка инициализации библиотеки Google Pay Api."},"environment":"Указана некорректная среда работы Google Pay.","merchantId":"Google Merchant ID не задан."},"applePay":{"merchant":"Ошибка валидации мерчанта Apple Pay.","version":"Устройство не поддерживает указанную версию Apple Pay.","info":"Магазин не зарегистрирован в Apple Pay"},"common":{"template":"Ошибка: ","response":"Извините, произошла ошибка при регистрации заказа.","receipt":{"format":"Неверный формат чека.","fields":"Поле E-mail или Phone не должно быть пустым."},"paymentInfo":"Ошибка получения информации о платеже."}},"info":{"googlePay":{"support":"Устройство не поддерживает Google Pay."},"applePay":{"support":"Устройство не поддерживает Apple Pay.","card":"Нет активной карты для платежа Apple Pay."},"tinkoffPay":{"qrModal":{"title":"Tinkoff Pay","description":"Для оплаты отсканируйте QR-код камерой телефона или в приложении Тинькофф"}}},"logger":{"init":"Инициализация виджета","initPayments":"Инициализация платёжный средств","redirectToPayForm":"Переход на платёжную форму","openPayFormInFrame":"Открытие платёжной формы во фрейме","openResultPage":"Отрытие страницы результата","openResultPageInFrame":"Отрытие страницы результата во фрейме","openErrorPageInFrame":"Открытие фрейма со страницей об ошибке","redirect3DS":"Переход на 3DS","frameCreation":"Создание фрейма","frameClosing":"Закрытие фрейма","frameAddition":"Добавление фрейма на страницу","apple":{"notSupported":"Apple Pay не поддерживается","buttonAddition":"Добавление платёжной кнопки Apple Pay","createButton":"Создание кнопки Apple Pay","createSession":"Создание сессии Apple Pay","initSession":"Инициализация сессии Apple Pay","cancelPayment":"Оплата Apple Pay отменена","noActiveCard":"Нет активной карты в Apple Pay","error":{"startSession":"Ошибка запроса ApplePayStartSession","finishAuthorise":"Ошибка запроса FinishAuthorise","merchantInfo":"Ошибка запроса ApplePayMerchantInfo"}},"google":{"buttonAddition":"Добавление платёжной кнопки Google Pay","notSupported":"Google Pay не поддерживается","createButton":"Создание кнопки Google Pay","error":{"payment":"Ошибка платежа Google Pay","createClient":"Ошибка создание клиента Google Pay","isReadyToPay":"Ошибка запроса готовности Google Pay","scriptLoading":"Ошибка загрузки скрипта Google Pay","scriptAdding":"Ошибка добавления скрипта Google Pay"}},"tinkoff":{"buttonAddition":"Добавление платёжной кнопки Tinkoff Pay","notSupported":"Tinkoff Pay не поддерживается","createButton":"Создание кнопки Tinkoff Pay","deepLinkOpened":"Открыта deepLink","error":{"payment":"Ошибка платежа Tinkoff Pay","createClient":"Ошибка создание клиента Tinkoff Pay","isReadyToPay":"Ошибка запроса готовности Tinkoff Pay","scriptLoading":"Ошибка загрузки скрипта Tinkoff Pay","scriptAdding":"Ошибка добавления скрипта Tinkoff Pay","allow":"Нет наличия возможности проведения оплаты TinkoffPay по API, SDK","mobile":"Нет наличия возможности проведения оплаты TinkoffPay не в мобильной версии","status":"Ошибка запроса status","deepLink":"Ошибка запроса deepLink","init":"Ошибка запроса init"}},"error":{"payV1":"Ошибка запроса InitV1","pay":"Ошибка запроса Init","terminalStatus":"Ошибка запроса статуса терминала"}}}')}}));