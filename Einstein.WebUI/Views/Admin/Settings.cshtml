
@{
    ViewBag.Title = "Настройки";
}


@(Html.Kendo().TabStrip()
                        .HtmlAttributes(new { style = " height: calc(100vh - 40px);" })
                        .Name("AdminTabStrip")

                        .TabPosition(TabStripTabPosition.Top)
                        .Items(items =>
                        {
                            items.Add().Text("Настройки почты").Selected(true).LoadContentFrom("Settings", "MailSettingsService");

                            items.Add().Text("Рассылка").LoadContentFrom("Settings", "MailingSettingsService");

                            items.Add().Text("Шаблон письма").LoadContentFrom("Editor", "TemplateService");

                            items.Add().Text("Условия").LoadContentFrom("Editor", "TermsService");

                            items.Add().Text("Платежи").LoadContentFrom("Settings", "PaymentSettingsService");

                        })
                        .Events(ev=>ev.ContentLoad("onError"))
)

<script>
    function onError(e) {
        var content = $(e.contentElement).text();
        var error = content.indexOf("Ошибка:") > -1
        
        if (error) {
           
            showError(content);
        }
    }
</script>
